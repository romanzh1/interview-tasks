# Домашние задания по модулю "SRE и Observability"

## Основное задание

- Покрыть loms и cart метриками:
    - Возвращать метрики по API `/metrics`
    - Рекомендуется переиспользование функций во избежание копипасты. В первую очередь покрыть надо gRPC взаимодействие
    - Количество запросов (все ручки)
    - Время исполнения запросов (все ручки) и статус исполнения запросов – статус код, очищенный url
    - Количество запросов во внешние ресурсы
    - Время исполнения запросов во внешние ресурсы и статус их исполнения – статус код, очищенный url
    - Количество запросов в базу (все запросы) – категория запроса (select, update, delete)
    - Время исполнения запросов и статус запросов в базу (все запросы) – ошибка, категория запроса (select, update, delete)
- Трейсинг во всей цепочке сервисов
- Все логи необходимо перевести на структурированные и корректно расставить им уровень
- Сделать make таргет, поднимающий инфраструктуру для мониторинга
    - Prometheus с настроенными таргетами в Docker Compose
    - Grafana, с настроенным Prometheus
    - Jaeger, для сбора трейсинга
- Трейсинг необходимо завести в Jaeger и предоставить тьютору скриншот с записанным трейсом

## Дополнительное задание

- Лог включает в себя имя сервиса, таймстемп лога, trace_id и span_id исполняемого запроса
- Добавить сбор профилей pprof по HTTP
- Добавить метрику на количество объектов в in-memory репозитории в сервисе cart  

### Дедлайны сдачи и проверки задания: 
- 6 июля 23:59 (сдача) / 9 июля, 23:59 (проверка)
